<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Planificador de Itinerarios</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <header class="app-header">
      <div>
        <p class="etiqueta">Organiza cada detalle</p>
        <h1>Planificador de itinerarios</h1>
        <p>
          Diseñado en español para crear, revisar, actualizar y eliminar tus
          planes de viaje con unos pocos clics.
        </p>
      </div>
      <div class="header-actions">
        <button id="btnImportar" class="btn secundario">Importar JSON</button>
        <button id="btnLimpiarTodo" class="btn peligro">
          Limpiar todo
        </button>
      </div>
    </header>

    <main>
      <section class="panel" id="panel-formulario">
        <div class="panel-header">
          <h2 id="titulo-formulario">Nuevo itinerario</h2>
          <p id="estado-formulario">Rellena los campos y guarda.</p>
        </div>

        <form id="formItinerario" class="grid-formulario">
          <input type="hidden" id="itinerarioId" />
          <label>
            Nombre del viaje
            <input
              type="text"
              id="nombre"
              placeholder="Ej. Aventura en Oaxaca"
              required
            />
          </label>
          <label>
            Destino principal
            <input
              type="text"
              id="destino"
              placeholder="Ciudad y país"
              required
            />
          </label>
          <label>
            Fecha de inicio
            <input type="date" id="fechaInicio" required />
          </label>
          <label>
            Fecha de regreso
            <input type="date" id="fechaFin" required />
          </label>
          <label>
            Presupuesto estimado (USD)
            <input type="number" id="presupuesto" min="0" step="50" />
          </label>
          <label>
            Medio de transporte
            <select id="transporte">
              <option value="Avión">Avión</option>
              <option value="Tren">Tren</option>
              <option value="Auto">Auto</option>
              <option value="Autobús">Autobús</option>
              <option value="Barco">Barco</option>
            </select>
          </label>
          <label>
            Hospedaje
            <input
              type="text"
              id="hospedaje"
              placeholder="Hotel, Airbnb, hostal..."
            />
          </label>
          <label>
            Etiquetas (separadas por coma)
            <input
              type="text"
              id="etiquetas"
              placeholder="playa, gastronomía, trabajo"
            />
          </label>
          <label class="textarea">
            Notas generales
            <textarea
              id="notas"
              rows="4"
              placeholder="Detalles clave, recordatorios, contactos"
            ></textarea>
          </label>
          <div class="form-acciones">
            <button type="reset" class="btn secundario" id="btnCancelarEdicion">
              Cancelar
            </button>
            <button type="submit" class="btn primario">Guardar itinerario</button>
          </div>
        </form>
      </section>

      <section class="panel" id="panel-filtros">
        <div class="panel-header">
          <h2>Explorar itinerarios</h2>
          <p>Filtra por texto, fecha o estado.</p>
        </div>
        <div class="grid-filtros">
          <label>
            Búsqueda rápida
            <input
              type="search"
              id="buscador"
              placeholder="Destino, etiqueta, hospedaje..."
            />
          </label>
          <label>
            Salida a partir de
            <input type="date" id="filtroFecha" />
          </label>
          <label>
            Estado
            <select id="filtroEstado">
              <option value="todos">Todos</option>
              <option value="proximo">Próximos</option>
              <option value="enCurso">En curso</option>
              <option value="finalizado">Finalizados</option>
            </select>
          </label>
          <label>
            Ordenar por
            <select id="filtroOrden">
              <option value="fechaAsc">Fecha más cercana</option>
              <option value="fechaDesc">Fecha más lejana</option>
              <option value="presupuesto">Presupuesto</option>
              <option value="creacion">Recientes</option>
            </select>
          </label>
        </div>
      </section>

      <section class="panel" id="panel-resumen">
        <div class="panel-header">
          <h2>Resumen rápido</h2>
        </div>
        <div class="resumen-grid">
          <article>
            <p class="etiqueta">Total</p>
            <strong id="resumenTotal">0</strong>
            <span>Itinerarios guardados</span>
          </article>
          <article>
            <p class="etiqueta">Próximos 30 días</p>
            <strong id="resumenProximos">0</strong>
            <span>Viajes próximos</span>
          </article>
          <article>
            <p class="etiqueta">Presupuesto</p>
            <strong id="resumenPresupuesto">$0</strong>
            <span>Nivel acumulado</span>
          </article>
        </div>
      </section>

      <section class="panel" id="panel-itinerarios">
        <div class="panel-header lista-header">
          <div>
            <h2>Mis itinerarios</h2>
            <p id="contadorItinerarios">0 resultados</p>
          </div>
          <button class="btn secundario" id="btnExportar">Exportar JSON</button>
        </div>
        <div id="listaItinerarios" class="lista-itinerarios vacio">
          <p>Aún no tienes viajes. Agrega el primero en el formulario.</p>
        </div>
      </section>
    </main>

    <template id="tplItinerario">
      <article class="itinerario" data-id="">
        <header>
          <div>
            <h3 class="titulo"></h3>
            <p class="destino"></p>
          </div>
          <div class="acciones">
            <button class="btn texto" data-accion="duplicar">Duplicar</button>
            <button class="btn texto" data-accion="editar">Editar</button>
            <button class="btn texto peligro" data-accion="eliminar">
              Eliminar
            </button>
          </div>
        </header>
        <div class="detalles">
          <p class="fechas"></p>
          <p class="transporte"></p>
          <p class="hospedaje"></p>
          <p class="presupuesto"></p>
          <div class="etiquetas"></div>
          <p class="notas"></p>
        </div>
        <section class="actividades">
          <div class="actividades-header">
            <h4>Actividades</h4>
            <span class="contador-actividades"></span>
          </div>
          <ul class="lista-actividades"></ul>
          <form class="form-actividad" data-accion="actividad">
            <input
              type="text"
              name="titulo"
              placeholder="Actividad o lugar"
              required
            />
            <input
              type="text"
              name="horario"
              placeholder="Horario / día"
            />
            <input
              type="text"
              name="ubicacion"
              placeholder="Ubicación"
            />
            <button type="submit" class="btn secundario">Agregar</button>
          </form>
        </section>
      </article>
    </template>

    <input type="file" id="inputImportar" accept="application/json" hidden />
    <script type="module" src="app.js"></script>
  </body>
</html>
